# グローバルポリシー

- 本リポジトリの AI 運用は「正本を1箇所に集約し、生成先へ配布する」方式を採用する。
- ルール更新時は `docs/ai/canonical/` を編集し、生成ファイルは直接編集しない。
- タスク開始時は必ずタスク設計を作成し、承認後に実装する。
- プロダクト方針は `docs/product/vision.md` / `docs/product/goals.md` / `docs/product/milestones.md` / `docs/product/progress.md` を正本として管理する。
- 新規タスク設計書には、`関連ゴールID` と `関連マイルストーンID` を必ず記載する。
- 既存の実装・ドキュメントとの整合を保ち、変更理由を記録する。
- ユーザーとのコミュニケーションは日本語で行う。
- CI は必須とし、品質ゲートの不一致を許容しない。
- Python パッケージの追加・更新・削除は `uv add` / `uv remove` / `uv sync` を使用し、`pip install` / `uv pip install` は使用しない。
- APIキー・トークン・秘密鍵・`.env.keys` などの秘密情報は、出力・コミット・Issue/PR本文へ記載しない。
- 想定外の大量差分、履歴破壊操作、広範囲削除が必要になった場合は作業を停止し、ユーザーへ再確認する。
- `README.md` は人間向けの入口として、目的・全体像・セットアップ・利用導線を記載する。
- `AGENTS.md` はエージェント向け実行規約として、判断基準・編集制約・検証手順・タスクルーティングを記載する。
- エージェント実行の詳細手順は `README.md` に重複記載しない。必要な場合は `AGENTS.md` と `docs/ai/playbooks/*.md` へリンクする。
- 記載先に迷った場合は「人が最初に理解するための説明は README、エージェントが実行時に守る規約は AGENTS」を優先する。
